<!--
%\VignetteEngine{knitr::knitr}
%\VignetteIndexEntry{Random numbers}
-->


```{r packages, results='hide'}
library('gpuR')
library('clrng')
```

Use double precision if the GPU supports it
```{r setType}
#theType = c('float','double')[1+gpuInfo()$double_support]
theType = 'float'
```




# runif

```{r unif, eval=FALSE}
as.vector(clrng::runif(10, Nglobal=c(4,4), type=theType))


b<-clrng::runif(c(100,100), Nglobal=c(64,64), type=theType)
bvector<-as.vector(as.matrix(b))
hist(bvector, breaks=40)
quantile(bvector)
```




# rnorm
```{r rnorm}
streams <- createStreamsGpu(n =512*128, initial=rep(12345,6))
a<-clrng::rnorm(c(1024,512), streams=streams, Nglobal=c(512,128), type=theType)

avector<-as.vector(as.matrix(a))
hist(avector,breaks=40)

clrng::qqnorm(avector, Nglobal = c(64,64))
stats::qqnorm(avector)
```







#rexp 
```{r exp}
streams <- createStreamsGpu(n=64*16, initial=1:3)
b<-clrng::rexp(c(200,100), rate=1, streams = streams, Nglobal=c(64,16), type="double")
bvector<-as.vector(as.matrix(b))
hist(bvector, freq=TRUE, breaks=40)


b2 <- stats::rexp(20000, rate=1)
hist(b2, freq=TRUE, breaks = 40)


quantile(bvector)
quantile(b2)

```

